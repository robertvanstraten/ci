templates:
    1: &manual
        type: float
        subgrades:
            points_automatic: integer
            points_open_questions: integer
            late_1_day: boolean
            late_4_day: boolean
            way_late: boolean
        hide_calculated: false

grades:
    m1:
        type: float
        subgrades:
            points_automatic: integer
            late_1_day: boolean
            late_4_day: boolean
            way_late: boolean
        hide_calculated: false
        calculation: "[points_automatic * 9.0 / 34.0 + 1, way_late == -1 && 1 || 10, late_1_day == -1 && 7 || 10, late_4_day == -1 && 5.5 || 10].min"
    m2:
        <<: *manual
        calculation: "[(points_automatic + points_open_questions) * 9.0 / 31.0 + 1, way_late == -1 && 1 || 10, late_1_day == -1 && 7 || 10, late_4_day == -1 && 5.5 || 10].min"
    m3:
        <<: *manual
        calculation: "[(points_automatic + points_open_questions) * 9.0 / 25.0 + 1, way_late == -1 && 1 || 10, late_1_day == -1 && 7 || 10, late_4_day == -1 && 5.5 || 10].min"
    m4:
        <<: *manual
        calculation: "[(points_automatic + points_open_questions) * 9.0 / 29.0 + 1, way_late == -1 && 1 || 10, late_1_day == -1 && 7 || 10, late_4_day == -1 && 5.5 || 10].min"
    m5:
        <<: *manual
        calculation: "[(points_automatic + points_open_questions) * 9.0 / 10.0 + 1, way_late == -1 && 1 || 10, late_1_day == -1 && 7 || 10, late_4_day == -1 && 5.5 || 10].min"
    module_5:
        <<: *manual
        calculation: "[(points_automatic + points_open_questions) * 9.0 / 10.0 + 1, way_late == -1 && 1 || 10, late_1_day == -1 && 7 || 10, late_4_day == -1 && 5.5 || 10].min"
    m6:
        <<: *manual
        calculation: "[(points_automatic + points_open_questions) * 9.0 / 14.0 + 1, way_late == -1 && 1 || 10, late_1_day == -1 && 7 || 10, late_4_day == -1 && 5.5 || 10].min"
    m7:
        type: float
        subgrades:
            points: integer
        hide_calculated: false
        calculation: points * 9.0 / 4 + 1

    tentamen:
        type: float
        subgrades:
            points: integer
        calculation: points * 9.0 / 41.0 + 1.0
        is_test: true

    hertentamen:
        type: float
        subgrades:
            points: integer
        calculation: points * 9.0 / 41.0 + 1.0
        is_test: true

calculation:
    eindcijfer:
        tentamen: 3
        mods: 7
    herkansingscijfer:
        hertentamen: 3
        mods: 7

tentamen:
    show_progress: true
    submits:
        tentamen: 1
    minimum: 5.5

hertentamen:
    show_progress: true
    submits:
        hertentamen: 1
    minimum: 5.5

mods:
    show_progress: true
    submits:
        m1: 1
        m2: 1
        m3: 1
        m4: 1
        m5: 1
        module_5: 0
        m6: 1
        m7: 0
    minimum: 5.5
